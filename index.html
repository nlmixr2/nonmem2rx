<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="NONMEM has been a tool for running nonlinear mixed
    effects models since the 80s and is still used today (Bauer 2019
    &lt;doi:10.1002/psp4.12404&gt;). This tool allows you to convert
    NONMEM models to rxode2 (Wang, Hallow and James (2016)
    &lt;doi:10.1002/psp4.12052&gt;) and with simple models nlmixr2 syntax
    (Fidler et al (2019) &lt;doi:10.1002/psp4.12445&gt;). The nlmixr2
    syntax requires the residual specification to be included and it
    is not always translated. If available, the rxode2 model will
    read in the NONMEM data and compare the simulation for the
    population model (PRED) individual model (IPRED) and residual
    model (IWRES) to immediately show how well the translation is
    performing. This saves the model development time for people who are
    creating an rxode2 model manually.  Additionally, this package reads
    in all the information to allow simulation with uncertainty (that is the
    number of observations, the number of subjects, and the covariance
    matrix) with a rxode2 model.  This is complementary to the
    babelmixr2 package that translates nlmixr2 models to NONMEM and can
    convert the objects converted from nonmem2rx to a full nlmixr2 fit.">
<title>nonmem2rx Converts NONMEM Models to rxode2 • nonmem2rx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="nonmem2rx Converts NONMEM Models to rxode2">
<meta property="og:description" content="NONMEM has been a tool for running nonlinear mixed
    effects models since the 80s and is still used today (Bauer 2019
    &lt;doi:10.1002/psp4.12404&gt;). This tool allows you to convert
    NONMEM models to rxode2 (Wang, Hallow and James (2016)
    &lt;doi:10.1002/psp4.12052&gt;) and with simple models nlmixr2 syntax
    (Fidler et al (2019) &lt;doi:10.1002/psp4.12445&gt;). The nlmixr2
    syntax requires the residual specification to be included and it
    is not always translated. If available, the rxode2 model will
    read in the NONMEM data and compare the simulation for the
    population model (PRED) individual model (IPRED) and residual
    model (IWRES) to immediately show how well the translation is
    performing. This saves the model development time for people who are
    creating an rxode2 model manually.  Additionally, this package reads
    in all the information to allow simulation with uncertainty (that is the
    number of observations, the number of subjects, and the covariance
    matrix) with a rxode2 model.  This is complementary to the
    babelmixr2 package that translates nlmixr2 models to NONMEM and can
    convert the objects converted from nonmem2rx to a full nlmixr2 fit.">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">nonmem2rx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--converting">
    <span class="fa fa-arrow-right"></span>
     
    Converting
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--converting">
    <a class="dropdown-item" href="articles/import-nonmem.html">Converting NONMEM to rxode2 model</a>
    <a class="dropdown-item" href="articles/convert-nlmixr2.html">Converting NONMEM to nlmixr2 object</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/rxode2-validate.html">
    <span class="fa fa-check"></span>
     
    Qualify
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--simulation">
    <span class="fa fa-dice"></span>
     
    Simulation
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--simulation">
    <a class="dropdown-item" href="articles/simulate-new-dosing.html">New Dosing Scenarios</a>
    <a class="dropdown-item" href="articles/simulate-uncertainty.html">Simulating with Uncertainty</a>
    <a class="dropdown-item" href="articles/simulate-extra-items.html">Simulating with Derived Variables</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reporting">Reporting</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reporting">
    <a class="dropdown-item" href="articles/create-office.html">Creating word and powerpoint documents</a>
    <a class="dropdown-item" href="articles/create-vpc.html">Easily create VPC plots</a>
    <a class="dropdown-item" href="articles/create-augPred.html">Create enriched Individual plots</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/read-rounding.html">
    <span class="fa fa-bug"></span>
     
    Debug
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">
    <span class="fas fa fas fa-rss"></span>
     
    News
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nlmixr2/nonmem2rx/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="nonmem2rx">nonmem2rx<a class="anchor" aria-label="anchor" href="#nonmem2rx"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of nonmem2rx is to convert a NONMEM control stream to a <code>rxode2</code> (or even a <code>nlmixr2</code> fit) for easy clinical trial simulation in R.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of nonmem2rx from <a href="https://github.com/" class="external-link">GitHub</a> with the r-universe:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'nonmem2rx'</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://nlmixr2.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>When on CRAN, you can also get the CRAN version by:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'nonmem2rx'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="what-you-can-do-with-nonmem2rx">What you can do with <code>nonmem2rx</code>
<a class="anchor" aria-label="anchor" href="#what-you-can-do-with-nonmem2rx"></a>
</h2>
<ul>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/import-nonmem.html" class="external-link">Convert a <code>NONMEM</code> model to a <code>rxode2</code> model</a></p></li>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/rxode2-validate.html" class="external-link">Make sure the model is translated correctly</a></p></li>
<li>
<p>Then with this model, you can:</p>
<ul>
<li><p>Perform <a href="https://nlmixr2.github.io/nonmem2rx/articles/simulate-new-dosing.html" class="external-link">simulations of new dosing</a> from the NONMEM model or even <a href="https://nlmixr2.github.io/nonmem2rx/articles/simulate-uncertainty.html" class="external-link">simulate using the uncertainty in your model</a> to simulate new scenarios</p></li>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/simulate-extra-items.html" class="external-link">Modify the model to calculate derived parameters</a> (like AUC). These parameters slow down NONMEM’s optimization, but can help in your simulation scenario.</p></li>
</ul>
</li>
<li>
<p>With <code>nonmem2rx</code> and <code>babelmixr2</code>, <a href="https://nlmixr2.github.io/nonmem2rx/articles/convert-nlmixr2.html" class="external-link">convert the imported <code>rxode2</code> model to a <code>nlmixr2</code> object</a>, allowing:</p>
<ul>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/create-office.html" class="external-link">Generation of Word and PowerPoint plots with <code>nlmixr2rpt</code></a></p></li>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/create-vpc.html" class="external-link">Easy VPC creation (with <code>vpcPlot()</code>)</a></p></li>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/create-augPred.html" class="external-link">Easy Individual plots with extra solved points</a>. This will show the curvature of individual and population fits for sparse data-sets (with <code>augPred()</code>)</p></li>
</ul>
</li>
<li>
<p>You can even use this conversion to help debug your NONMEM model (or even try it in <code>nlmixr2</code> instead)</p>
<ul>
<li><p>Understand <a href="https://nlmixr2.github.io/nonmem2rx/articles/read-rounding.html" class="external-link">how to simplify the NONMEM model to avoid rounding errors</a></p></li>
<li><p><a href="https://nlmixr2.github.io/nonmem2rx/articles/read-rounding.html#step-5-get-the-covariance-of-the-model" class="external-link">Run <code>nlmixr2</code>’s covariance step when <code>NONMEM</code>s covariance step has failed</a> (in the linked example, there was no covariance step because rounding errors)</p></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="simple-example">Simple example<a class="anchor" aria-label="anchor" href="#simple-example"></a>
</h2>
<p>Once <code>nonmem2rx</code> has been loaded, you simply type the location of the nonmem control stream for the parser to start. For example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nlmixr2.github.io/nonmem2rx/" class="external-link">nonmem2rx</a></span><span class="op">)</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/nonmem2rx.html">nonmem2rx</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"mods/cpt/runODE032.ctl"</span>, package<span class="op">=</span><span class="st">"nonmem2rx"</span><span class="op">)</span>, lst<span class="op">=</span><span class="st">".res"</span>, save<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ getting information from  '/tmp/RtmprTgmjl/temp_libpathe73d3d151514/nonmem2rx/mods/cpt/runODE032.ctl'</span></span>
<span><span class="co">#&gt; ℹ reading in xml file</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ reading in phi file</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ reading in lst file</span></span>
<span><span class="co">#&gt; ℹ abbreviated list parsing</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ splitting control stream by records</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ Processing record $INPUT</span></span>
<span><span class="co">#&gt; ℹ Processing record $MODEL</span></span>
<span><span class="co">#&gt; ℹ Processing record $THETA</span></span>
<span><span class="co">#&gt; ℹ Processing record $OMEGA</span></span>
<span><span class="co">#&gt; ℹ Processing record $SIGMA</span></span>
<span><span class="co">#&gt; ℹ Processing record $PROBLEM</span></span>
<span><span class="co">#&gt; ℹ Processing record $DATA</span></span>
<span><span class="co">#&gt; ℹ Processing record $SUBROUTINES</span></span>
<span><span class="co">#&gt; ℹ Processing record $PK</span></span>
<span><span class="co">#&gt; ℹ Processing record $DES</span></span>
<span><span class="co">#&gt; ℹ Processing record $ERROR</span></span>
<span><span class="co">#&gt; ℹ Processing record $ESTIMATION</span></span>
<span><span class="co">#&gt; ℹ Ignore record $ESTIMATION</span></span>
<span><span class="co">#&gt; ℹ Processing record $COVARIANCE</span></span>
<span><span class="co">#&gt; ℹ Ignore record $COVARIANCE</span></span>
<span><span class="co">#&gt; ℹ Processing record $TABLE</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `theta1` to `1.37034036528946`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `theta2` to `4.19814911033061`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `theta3` to `1.38003493562413`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `theta4` to `3.87657341967489`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `theta5` to `0.196446108190896`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `eta1` to `0.101251418415006`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `eta2` to `0.0993872449483344`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `eta3` to `0.101302674763154`</span></span>
<span><span class="co">#&gt; ℹ change initial estimate of `eta4` to `0.0730497519364148`</span></span>
<span><span class="co">#&gt; ℹ read in nonmem input data (for model validation): /tmp/RtmprTgmjl/temp_libpathe73d3d151514/nonmem2rx/mods/cpt/Bolus_2CPT.csv</span></span>
<span><span class="co">#&gt; ℹ ignoring lines that begin with a letter (IGNORE=@)'</span></span>
<span><span class="co">#&gt; ℹ applying names specified by $INPUT</span></span>
<span><span class="co">#&gt; ℹ subsetting accept/ignore filters code: .data[-which((.data$SD == 0)),]</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; using C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04.1) 11.3.0’</span></span>
<span><span class="co">#&gt; In file included from /usr/share/R/include/R.h:71,</span></span>
<span><span class="co">#&gt;                  from /home/matt/R/x86_64-pc-linux-gnu-library/4.3/rxode2/include/rxode2.h:9,</span></span>
<span><span class="co">#&gt;                  from /home/matt/R/x86_64-pc-linux-gnu-library/4.3/rxode2parse/include/rxode2_model_shared.h:3,</span></span>
<span><span class="co">#&gt;                  from rx_3fc4ae7cf132c0f9271202d3f47a5a89_.c:115:</span></span>
<span><span class="co">#&gt; /usr/share/R/include/R_ext/Complex.h:80:6: warning: ISO C99 doesn’t support unnamed structs/unions [-Wpedantic]</span></span>
<span><span class="co">#&gt;    80 |     };</span></span>
<span><span class="co">#&gt;       |      ^</span></span>
<span><span class="co">#&gt; ℹ read in nonmem IPRED data (for model validation): /tmp/RtmprTgmjl/temp_libpathe73d3d151514/nonmem2rx/mods/cpt/runODE032.csv</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ changing most variables to lower case</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ replace theta names</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ replace eta names</span></span>
<span><span class="co">#&gt; ℹ done (no labels)</span></span>
<span><span class="co">#&gt; ℹ renaming compartments</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; using C compiler: ‘gcc (Ubuntu 11.3.0-1ubuntu1~22.04.1) 11.3.0’</span></span>
<span><span class="co">#&gt; In file included from /usr/share/R/include/R.h:71,</span></span>
<span><span class="co">#&gt;                  from /home/matt/R/x86_64-pc-linux-gnu-library/4.3/rxode2/include/rxode2.h:9,</span></span>
<span><span class="co">#&gt;                  from /home/matt/R/x86_64-pc-linux-gnu-library/4.3/rxode2parse/include/rxode2_model_shared.h:3,</span></span>
<span><span class="co">#&gt;                  from rx_2222306f3e9dc582ea63c0e02f33e98c_.c:115:</span></span>
<span><span class="co">#&gt; /usr/share/R/include/R_ext/Complex.h:80:6: warning: ISO C99 doesn’t support unnamed structs/unions [-Wpedantic]</span></span>
<span><span class="co">#&gt;    80 |     };</span></span>
<span><span class="co">#&gt;       |      ^</span></span>
<span><span class="co">#&gt; ℹ solving ipred problem</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="co">#&gt; ℹ solving pred problem</span></span>
<span><span class="co">#&gt; ℹ done</span></span>
<span><span class="va">mod</span></span>
<span><span class="co">#&gt;  ── rxode2-based free-form 2-cmt ODE model ────────────────────────────────────── </span></span>
<span><span class="co">#&gt;  ── Initalization: ──  </span></span>
<span><span class="co">#&gt; Fixed Effects ($theta): </span></span>
<span><span class="co">#&gt;    theta1    theta2    theta3    theta4       RSV </span></span>
<span><span class="co">#&gt; 1.3703404 4.1981491 1.3800349 3.8765734 0.1964461 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Omega ($omega): </span></span>
<span><span class="co">#&gt;           eta1       eta2      eta3       eta4</span></span>
<span><span class="co">#&gt; eta1 0.1012514 0.00000000 0.0000000 0.00000000</span></span>
<span><span class="co">#&gt; eta2 0.0000000 0.09938724 0.0000000 0.00000000</span></span>
<span><span class="co">#&gt; eta3 0.0000000 0.00000000 0.1013027 0.00000000</span></span>
<span><span class="co">#&gt; eta4 0.0000000 0.00000000 0.0000000 0.07304975</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; States ($state or $stateDf): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1          CENTRAL</span></span>
<span><span class="co">#&gt; 2                  2             PERI</span></span>
<span><span class="co">#&gt;  ── μ-referencing ($muRefTable): ──  </span></span>
<span><span class="co">#&gt;    theta  eta level</span></span>
<span><span class="co">#&gt; 1 theta1 eta1    id</span></span>
<span><span class="co">#&gt; 2 theta2 eta2    id</span></span>
<span><span class="co">#&gt; 3 theta3 eta3    id</span></span>
<span><span class="co">#&gt; 4 theta4 eta4    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── Model (Normalized Syntax): ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     description &lt;- "BOLUS_2CPT_CLV1QV2 SINGLE DOSE FOCEI (120 Ind/2280 Obs) runODE032"</span></span>
<span><span class="co">#&gt;     validation &lt;- c("IPRED relative difference compared to Nonmem IPRED: 0%; 95% percentile: (0%,0%); rtol=6.43e-06", </span></span>
<span><span class="co">#&gt;         "IPRED absolute difference compared to Nonmem IPRED: 95% percentile: (2.19e-05, 0.0418); atol=0.00167", </span></span>
<span><span class="co">#&gt;         "IWRES relative difference compared to Nonmem IWRES: 0%; 95% percentile: (0%,0.01%); rtol=8.99e-06", </span></span>
<span><span class="co">#&gt;         "IWRES absolute difference compared to Nonmem IWRES: 95% percentile: (1.82e-07, 4.63e-05); atol=3.65e-06", </span></span>
<span><span class="co">#&gt;         "PRED relative difference compared to Nonmem PRED: 0%; 95% percentile: (0%,0%); rtol=6.41e-06", </span></span>
<span><span class="co">#&gt;         "PRED absolute difference compared to Nonmem PRED: 95% percentile: (1.41e-07,0.00382) atol=6.41e-06")</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         theta1 &lt;- 1.37034036528946</span></span>
<span><span class="co">#&gt;         label("log Cl")</span></span>
<span><span class="co">#&gt;         theta2 &lt;- 4.19814911033061</span></span>
<span><span class="co">#&gt;         label("log Vc")</span></span>
<span><span class="co">#&gt;         theta3 &lt;- 1.38003493562413</span></span>
<span><span class="co">#&gt;         label("log Q")</span></span>
<span><span class="co">#&gt;         theta4 &lt;- 3.87657341967489</span></span>
<span><span class="co">#&gt;         label("log Vp")</span></span>
<span><span class="co">#&gt;         RSV &lt;- c(0, 0.196446108190896, 1)</span></span>
<span><span class="co">#&gt;         label("RSV")</span></span>
<span><span class="co">#&gt;         eta1 ~ 0.101251418415006</span></span>
<span><span class="co">#&gt;         eta2 ~ 0.0993872449483344</span></span>
<span><span class="co">#&gt;         eta3 ~ 0.101302674763154</span></span>
<span><span class="co">#&gt;         eta4 ~ 0.0730497519364148</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         cmt(CENTRAL)</span></span>
<span><span class="co">#&gt;         cmt(PERI)</span></span>
<span><span class="co">#&gt;         cl &lt;- exp(theta1 + eta1)</span></span>
<span><span class="co">#&gt;         v &lt;- exp(theta2 + eta2)</span></span>
<span><span class="co">#&gt;         q &lt;- exp(theta3 + eta3)</span></span>
<span><span class="co">#&gt;         v2 &lt;- exp(theta4 + eta4)</span></span>
<span><span class="co">#&gt;         v1 &lt;- v</span></span>
<span><span class="co">#&gt;         scale1 &lt;- v</span></span>
<span><span class="co">#&gt;         k21 &lt;- q/v2</span></span>
<span><span class="co">#&gt;         k12 &lt;- q/v</span></span>
<span><span class="co">#&gt;         d/dt(CENTRAL) &lt;- k21 * PERI - k12 * CENTRAL - cl * CENTRAL/v1</span></span>
<span><span class="co">#&gt;         d/dt(PERI) &lt;- -k21 * PERI + k12 * CENTRAL</span></span>
<span><span class="co">#&gt;         f &lt;- CENTRAL/scale1</span></span>
<span><span class="co">#&gt;         ipred &lt;- f</span></span>
<span><span class="co">#&gt;         rescv &lt;- RSV</span></span>
<span><span class="co">#&gt;         ipred ~ prop(RSV)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt;  ── nonmem2rx translation notes ($notes): ──  </span></span>
<span><span class="co">#&gt;    • there are duplicate eta names, not renaming duplicate parameters </span></span>
<span><span class="co">#&gt;    • there are duplicate theta names, not renaming duplicate parameters </span></span>
<span><span class="co">#&gt;  ── nonmem2rx extra properties: ──  </span></span>
<span><span class="co">#&gt; other properties include: $nonmemData, $etaData, $thetaMat, $dfSub, $dfObs</span></span>
<span><span class="co">#&gt; captured NONMEM table outputs: $predData, $ipredData</span></span>
<span><span class="co">#&gt; NONMEM/rxode2 comparison data: $iwresCompare, $predCompare, $ipredCompare</span></span>
<span><span class="co">#&gt; NONMEM/rxode2 composite comparison: $predAtol, $predRtol, $ipredAtol, $ipredRtol, $iwresAtol, $iwresRtol</span></span></code></pre></div>
<p>You can see this automatically validates NONMEM and rxode2 outputs for a couple of metrics.</p>
</div>
</div>
<div class="section level1">
<h1 id="external-projects-that-contributed-to-the-tools-validation">External projects that contributed to the tool’s validation<a class="anchor" aria-label="anchor" href="#external-projects-that-contributed-to-the-tools-validation"></a>
</h1>
<p>The <code>nonmem2rx</code> tool was validated against:</p>
<ul>
<li><p>The <code>PsN</code> library test suite of NONMEM listings (<a href="https://github.com/UUPharmacometrics/PsN/tree/master/test" class="external-link uri">https://github.com/UUPharmacometrics/PsN/tree/master/test</a>)</p></li>
<li><p>The ddmore model scrapings (<a href="https://github.com/dpastoor/ddmore_scraping" class="external-link uri">https://github.com/dpastoor/ddmore_scraping</a>).</p></li>
<li><p>Models from NONMEM design tutorial Bauer 2021 <a href="https://doi.org/10.1002/psp4.12713" class="external-link uri">https://doi.org/10.1002/psp4.12713</a></p></li>
<li><p>Models from NONMEM tutorial 1 (Bauer 2019) <a href="https://doi.org/10.1002/psp4.12404" class="external-link uri">https://doi.org/10.1002/psp4.12404</a></p></li>
<li><p>Models from NONMEM tutorial 2 (Bauer 2019) <a href="https://doi.org/10.1002/psp4.12422" class="external-link uri">https://doi.org/10.1002/psp4.12422</a></p></li>
</ul>
<p>Due to the sheer size of the zipped models for these nonmem control stream sources, these are excluded to keep the binary below 3 mgs (CRAN requirement).</p>
<p>However, I would like to acknowledge all who helped in these projects. With these projects the NONMEM conversion to rxode2 has been made much more robust.</p>
<p>Still, while the tests are not/will not be in the CRAN binaries, you can test them yourself by:</p>
<ol style="list-style-type: decimal">
<li>Downloading this repository</li>
<li>Running the tests <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>
</li>
</ol>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nlmixr2/nonmem2rx/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3) </li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nonmem2rx</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Matthew Fidler <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8538-6691" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nlmixr2/nonmem2rx/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/nlmixr2/nonmem2rx/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/nlmixr2/nonmem2rx?branch=main" class="external-link"><img src="https://codecov.io/gh/nlmixr2/nonmem2rx/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.codefactor.io/repository/github/nlmixr2/nonmem2rx" class="external-link"><img src="https://www.codefactor.io/repository/github/nlmixr2/nonmem2rx/badge" alt="CodeFactor"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Matthew Fidler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
